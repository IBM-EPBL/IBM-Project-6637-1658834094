<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="static/styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <title>Nutrition Assistant</title>
</head>
<body>
  
  <div class="container my-3 py-4">
    <header class="pb-3 mb-4 border-bottom">
      <div class="d-flex align-items-center text-dark text-decoration-none">
        <img class="me-3 " src="static/cb.png" alt="" width="50">
        <span class="fs-4">Nutrition Assistant</span>
        <span class="m-auto fs-4">{{ username }}</span>
        <a class="m-3" href="/logout">Logout</a>
      </div>
    </header>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-secondary" role="alert">
          <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    {% endwith %}

    {% if filename %}
    <div class="row align-items-md-stretch">
      <div class="col-md-6 my-3">
        <div class="h-100 p-5 text-bg-dark rounded-3">
          <h2>Food image</h2>
          <img src="{{ url_for('display', filename=filename) }}" class="img-fluid">
          <a class="mt-3 btn btn-light" href="/dashboard">Upload Another Image</a>
        </div>
      </div>
      <div class="col-md-6 my-3">
        <div class="h-100 p-5 bg-light border rounded-3">
          <h2 class="mb-3">Food details</h2>
          <p><b>Food Name: </b>{{ foodname }}</p>
          <p><b>Ingredients: </b>{{ ingredients }}</p>
          <p><b>Nutrition Values: </b>{{ nutritionValues }}</p>
        </div>
      </div>
    </div>

    {% else %}  

    <div class="row align-items-md-stretch">
      <div class="col-md-6 my-3">
        <div class="h-100 p-5 text-bg-dark rounded-3">
          <h2>Upload food image</h2>
          <form action = "/dashboard" method = "POST" enctype="multipart/form-data">  
            <input class="my-3 form-control" type="file" name="file" required/>
            <input class="mt-3 btn btn-light" type="submit" value="Analyze">  
          </form>  
        </div>
      </div>
    </div>

    {% endif %}


  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

</body>
</html>

<!-- 
  
  create a user table with user with 
  email,
   username, 
   roll number,
    pw
perform
 update
  delete 
  queries with user table and
connect python code to db2
create a flask app with
registeration page ,
 login page and 
 welvcome page. 
by default load the reg page once the user enters all the fields store the 
data in database and navigate to login page authenticate user username and pw.
 if the user is valid show the welcome page
-->
